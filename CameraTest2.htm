<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>getUserMediaサンプル</title>
    <link rel="stylesheet" href="index.css">
    <script>
      if (!navigator.getUserMedia && !navigator.webkitGetUserMedia) {
        alert('webkit系ブラウザでないか、もしくはgetUserMediaがサポートされていません');
      }

      function getMedia() {
        navigator.webkitGetUserMedia(
          {video: true},
          function(localMediaStream) {
            var myVideo  = document.getElementById('myVideo');
            myVideo.src = window.URL.createObjectURL(localMediaStream);
            myVideo.play();
          },
          function(err) {
            alert('カメラから映像を取得することができませんでした。');  
            console.log(err);
          }
        );
      }
    </script>
  </head>
  <body>
    <header>
      <h1>getUserMediaサンプル</h1>
    </header>
    <button onclick="getMedia()">キャプチャ開始</button><br/>
    <video id="myVideo"></video><br/>
  </body>
</html>
